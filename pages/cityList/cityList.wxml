<view class="container">
  <!-- å¤´éƒ¨ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="header">
    <!-- <view class="title">åŸå¸‚ç‚¹äº®åœ°å›¾</view> -->
    <view class="stats">
      <view class="stat-item">
        <text class="stat-number">{{visitedCount}}</text>
        <text class="stat-label">å·²ç‚¹äº®</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{totalCount}}</text>
        <text class="stat-label">æ€»åŸå¸‚</text>
      </view>
      <view class="stat-item">
        <text class="stat-percent">{{visitedPercent}}%</text>
        <text class="stat-label">å®Œæˆåº¦</text>
      </view>
    </view>
  </view>

  <!-- æœç´¢æ¡† -->
  <view class="search-box">
    <input 
      class="search-input" 
      placeholder="æœç´¢çœä»½æˆ–åŸå¸‚..." 
      bindinput="onSearchInput"
      value="{{searchText}}"
    />
    <text class="search-icon">ğŸ”</text>
  </view>

  <!-- åŸå¸‚åˆ—è¡¨ -->
  <scroll-view class="city-list" scroll-y>
    <view class="province-group" wx:for="{{displayData}}" wx:key="provinceCode">
      <!-- çœä»½æ ‡é¢˜ -->
      <view class="province-header" bindtap="toggleProvince" data-province="{{item.provinceCode}}">
        <text class="province-name">{{item.province}}</text>
        <text class="province-stats">{{item.visitedCount}}/{{item.cities.length}}</text>
        <text class="arrow {{item.expanded ? 'expanded' : ''}}">â–¼</text>
      </view>

      <!-- åŸå¸‚åˆ—è¡¨ -->
      <view class="city-container" wx:if="{{item.expanded}}">
        <view 
          class="city-item {{city.visited ? 'visited' : ''}}" 
          wx:for="{{item.cities}}" 
          wx:for-item="city"
          wx:key="name"
          bindtap="toggleCity"
          data-province="{{item.provinceCode}}"
          data-city="{{city.name}}"
        >
          <text class="city-name">{{city.name}}</text>
          <text class="city-status {{city.visited ? 'visited' : ''}}">
            {{city.visited ? 'âœ“' : 'â—‹'}}
          </text>
        </view>
      </view>
    </view>
  </scroll-view>
</view>